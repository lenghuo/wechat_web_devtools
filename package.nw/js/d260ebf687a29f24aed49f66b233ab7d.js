'use strict';!function(require,directRequire){const a=require('path'),b=require('./common/locales/index.js'),c=require('./949d8235c744ced2a80121e4dba34c28.js'),d=require('./551bb965e1f344281d555a429cd2140c.js'),e=require('./8267de7f4ec7b70a147f3fa5ef2bdea4.js'),f=require('./162bf2ee28b76d3b3d95b685cede4146.js'),g=require('./84b183688a46c9e2626d3e6f83365e13.js'),h=require('./fcadebce92dacc42ac4bba476b700dee.js'),i=require('./2e9637e8a0816a626f7db9a0dee5efe8.js'),j=require('./464e9598eb5c203da6b41e702e422c70.js'),k=require('./6238a86bb7a55c11aa0f9eb335d0f34c.js');module.exports=async function(l,m){const n=`${m}.json`;await i.init(l);const o=await f(l),p=i.CACHE_KEYS.JSON_FILE,q=a.posix.join(o.srcPath,n),r=i.get(p,q);if(r&&r.code&&r.nodeModules==l.setting.nodeModules)return r.code;let s={},t='{}';try{t=o.getFile(n)}catch(a){return{}}try{s=JSON.parse(t)}catch(a){const b=k.parseJsonParseErr({fileName:n,data:t,error:a}),d=new Error(b);throw d.path=m,d.code=c.PAGES_JSON_PARSE_ERR,d}const u=await d(l);u&&u.extPages&&u.extPages[m]&&(s=Object.assign({},s,u.extPages[m]));const v=[];if(['enablePullDownRefresh','disableScroll'].forEach((a)=>{'undefined'!=typeof s[a]&&'boolean'!=typeof s[a]&&v.push(b.config.JSON_CONTENT_SHOULD_BE.format([a,'boolean']))}),s.backgroundColorTop&&(s.backgroundColor=s.backgroundColorTop),0<v.length){const a=new Error(v.join('\n'));throw a.path=m,a.code=c.PAGES_JSON_PARSE_ERR,a}s.usingComponents&&j.checkUsingComponents(s,{msg:v,filePath:m,JSON_PARSE_ERR:c.PAGES_JSON_PARSE_ERR});const w=await e(l);if(w.usingComponents&&!m.startsWith('miniprogram_npm'))for(const b in s.usingComponents||(s.usingComponents={}),w.usingComponents){if(s.usingComponents[b])continue;const c=w.usingComponents[b]||'',d=l.miniprogramRoot?g.normalizePath(l.miniprogramRoot):'.',e=l.miniprogramRoot?a.join(l.projectpath,d):l.projectpath;if(!c.startsWith('/')&&!c.startsWith('plugin://')){const f=a.resolve(e,c),i=a.dirname(a.resolve(e,m)),j=a.relative(i,f);if(c.startsWith('.'))s.usingComponents[b]=g.normalizePath(j);else if(!o.exists(f)){const e=await h.resolveComponentPath(o,d,c);s.usingComponents[b]=e?g.normalizePath(a.relative(m,e)):g.normalizePath(j)}else s.usingComponents[b]=g.normalizePath(j)}else s.usingComponents[b]=w.usingComponents[b]}return l.setting&&l.setting.nodeModules&&(await h.checkComponentPath(o,s,m)),i.set(p,q,{code:s,nodeModules:l.setting.nodeModules}),s}}(require('lazyload'),require);